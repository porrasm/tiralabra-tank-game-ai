<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>p:\stuff\projects\minigamesproject\minigamesproject\assets\_assets\scripts\bearded man studios\scripts\networking\logging\forgelogger.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.IO;
using System.Text;

namespace BeardedManStudios.Source.Logging
{
    public class ForgeLogger
    {
        private enum EchoType
        {
            Debug,
            Warning,
            Error,
            Exception,
            WTF
        }

        public static string LogDirectory = &quot;ForgeNetworking&quot;;
        private static string ForgeLog { get { return Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), LogDirectory); } }

        private static void Echo(object message, EchoType echoType)
        {
#if UNITY_EDITOR
            if (echoType == EchoType.Debug)
                UnityEngine.Debug.Log(message);
            else if (echoType == EchoType.Warning)
                UnityEngine.Debug.LogWarning(message);
            else if (echoType == EchoType.Error)
                UnityEngine.Debug.LogError(message);
            else if (echoType == EchoType.Exception)
                UnityEngine.Debug.LogException(message is string ? new Exception(message.ToString()) : (Exception)message);
            else if (echoType == EchoType.WTF)
            {
                UnityEngine.Debug.Log(message);
                UnityEngine.Debug.LogWarning(message);
                UnityEngine.Debug.LogError(message);
            }
#else
            if (echoType == EchoType.Debug)
                System.Diagnostics.Debug.WriteLine(&quot;DEBUG: &quot; + message);
            else if (echoType == EchoType.Warning)
                System.Diagnostics.Debug.WriteLine(&quot;WARNING: &quot; + message);
            else if (echoType == EchoType.Error)
                System.Diagnostics.Debug.WriteLine(&quot;ERROR: &quot; + message);
            else if (echoType == EchoType.Exception)
                System.Diagnostics.Debug.WriteLine(message);
            else if (echoType == EchoType.WTF)
            {
                System.Diagnostics.Debug.WriteLine(&quot;&gt;&gt;&gt;WTF!!!&lt;&lt;&lt;: &quot; + message);
                System.Diagnostics.Debug.WriteLine(&quot;&gt;&gt;&gt;WTF!!!&lt;&lt;&lt;: &quot; + message);
                System.Diagnostics.Debug.WriteLine(&quot;&gt;&gt;&gt;WTF!!!&lt;&lt;&lt;: &quot; + message);
            }
#endif
        }

        private static void Log(string message)
        {
            string filePath = Path.Combine(ForgeLog, DateTime.Now.ToString(&quot;yyyy-MM-dd&quot;) + &quot;.log&quot;);

            if (!File.Exists(filePath))
            {
                if (!Directory.Exists(ForgeLog))
                    Directory.CreateDirectory(ForgeLog);

                File.Create(filePath);
            }

            File.AppendAllText(filePath, message + Environment.NewLine);
        }

        public static void Debug(string message, bool echo = false)
        {
            Log(&quot;DEBUG: &quot; + message);

            if (echo)
                Echo(message, EchoType.Debug);
        }

        public static void Warning(string message, bool echo = false)
        {
            Log(&quot;WARNING: &quot; + message);

            if (echo)
                Echo(message, EchoType.Warning);
        }

        public static void Error(string message, bool echo = false)
        {
            Log(&quot;ERROR: &quot; + message);

            if (echo)
                Echo(message, EchoType.Error);
        }

        public static void Exception(string message, Exception e, bool echo = false)
        {
            StringBuilder fullMessage = new StringBuilder(&quot;Developer Message: &quot; + message);
            fullMessage.Append(Environment.NewLine);
            fullMessage.AppendLine(&quot;Exception Message: &quot; + e.Message);
            fullMessage.AppendLine(&quot;Trace:&quot;);
            fullMessage.Append(Environment.NewLine + e.StackTrace.ToString());
            string finalMessage = &quot;---------&quot; + Environment.NewLine + &quot;EXCEPTION:&quot; + Environment.NewLine + fullMessage.ToString() + Environment.NewLine + &quot;---------&quot;;

            Log(finalMessage);

            if (echo)
            {
#if UNITY_EDITOR
                Echo(message, EchoType.Exception);
#else
                Echo(finalMessage, EchoType.Exception);
#endif

            }
        }

        public static void WTF(string message, bool echo = false)
        {
            Log(&quot;&gt;&gt;&gt;WTF!!!&lt;&lt;&lt;: &quot; + message);

            if (echo)
                Echo(message, EchoType.WTF);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[18,9,18,63,0],[19,46,19,47,0],[19,48,19,152,0],[19,153,19,154,0],[22,9,22,10,0],[24,13,24,44,0],[25,17,25,48,0],[26,18,26,51,0],[27,17,27,55,0],[28,18,28,49,0],[29,17,29,53,0],[30,18,30,53,0],[31,17,31,124,0],[32,18,32,47,0],[33,13,33,14,0],[34,17,34,48,0],[35,17,35,55,0],[36,17,36,53,0],[37,13,37,14,0],[54,9,54,10,0],[57,9,57,10,0],[58,13,58,100,0],[60,13,60,40,0],[61,13,61,14,0],[62,17,62,49,0],[63,21,63,57,0],[65,17,65,39,0],[66,13,66,14,0],[68,13,68,73,0],[69,9,69,10,0],[72,9,72,10,0],[73,13,73,38,0],[75,13,75,22,0],[76,17,76,47,0],[77,9,77,10,0],[80,9,80,10,0],[81,13,81,40,0],[83,13,83,22,0],[84,17,84,49,0],[85,9,85,10,0],[88,9,88,10,0],[89,13,89,38,0],[91,13,91,22,0],[92,17,92,47,0],[93,9,93,10,0],[96,9,96,10,0],[97,13,97,92,0],[98,13,98,53,0],[99,13,99,71,0],[100,13,100,46,0],[101,13,101,79,0],[102,13,102,167,0],[104,13,104,31,0],[106,13,106,22,0],[107,13,107,14,0],[109,17,109,51,0],[114,13,114,14,0],[115,9,115,10,0],[118,9,118,10,0],[119,13,119,45,0],[121,13,121,22,0],[122,17,122,45,0],[123,9,123,10,0]]);
    </script>
  </body>
</html>