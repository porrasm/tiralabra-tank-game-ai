<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>p:\stuff\projects\minigamesproject\minigamesproject\assets\_assets\scripts\games\tankgame\powerups\tankpowerup.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections;
using System.Collections.Generic;
using UnityEngine;


public class TankPowerup : MonoBehaviour {

    public enum Type { Charge, Regenerate, SpeedBoost, Missile, MultiBall, Shield }
    public enum Behaviour { Passive, OverrideFire, BlockFire }

    protected GameObject tankObject;

    protected Type powerupType;
    protected Behaviour behaviourType = Behaviour.Passive;

    public Behaviour BehaviourType { get =&gt; behaviourType; set =&gt; behaviourType = value; }
    public Type PowerupType { get =&gt; powerupType; set =&gt; powerupType = value; }

    public virtual void Use() {
        print(&quot;Using powerup: &quot; + powerupType);
    }
    public virtual void Remove() {
        Destroy(this);
    }
    public virtual bool BlockFire() {
        return false;
    }
    public virtual bool CustomFire() {
        return false;
    }

    public void SetTankObject(GameObject tank) {
        tankObject = tank;
    }

    #region Set Powerups
    public static TankPowerup GivePowerup(Type type, GameObject tank) {

        RemovePowerup(tank);

        switch (type) {
            case Type.Charge:
                return GiveCharge(tank);
            case Type.Regenerate:
                return GiveRegenerate(tank);
            case Type.SpeedBoost:
                return GiveSpeedBoost(tank);
            case Type.Missile:
                return GiveMissile(tank);
            case Type.MultiBall:
                return GiveMultiBall(tank);
            case Type.Shield:
                return GiveShield(tank);
        }

        return null;
    }
    public static void RemovePowerup(GameObject tank) {

        TankPowerup p = tank.GetComponent&lt;TankPowerup&gt;();

        if (p != null) {
            p.Remove();
        }
    }

    private static TankPowerup GiveCharge(GameObject tank) {

        TankPowerup_Charge powerup = tank.AddComponent&lt;TankPowerup_Charge&gt;();
        powerup.powerupType = Type.Charge;
        powerup.tankObject = tank;

        return powerup;
    }
    private static TankPowerup GiveRegenerate(GameObject tank) {

        TankPowerup_Regenerate powerup = tank.AddComponent&lt;TankPowerup_Regenerate&gt;();
        powerup.powerupType = Type.Regenerate;
        powerup.tankObject = tank;

        return powerup;
    }
    private static TankPowerup GiveSpeedBoost(GameObject tank) {

        TankPowerup_Speedboost powerup = tank.AddComponent&lt;TankPowerup_Speedboost&gt;();
        powerup.powerupType = Type.SpeedBoost;
        powerup.tankObject = tank;

        return powerup;
    }
    private static TankPowerup GiveMissile(GameObject tank) {

        TankPowerup_Missile powerup = tank.AddComponent&lt;TankPowerup_Missile&gt;();
        powerup.powerupType = Type.Missile;
        powerup.tankObject = tank;

        return powerup;
    }
    private static TankPowerup GiveMultiBall(GameObject tank) {

        TankPowerup_MultiBall powerup = tank.AddComponent&lt;TankPowerup_MultiBall&gt;();
        powerup.powerupType = Type.MultiBall;
        powerup.tankObject = tank;

        return powerup;
    }
    private static TankPowerup GiveShield(GameObject tank) {

        TankPowerup_Shield powerup = tank.AddComponent&lt;TankPowerup_Shield&gt;();
        powerup.powerupType = Type.Shield;
        powerup.tankObject = tank;

        return powerup;
    }
    #endregion
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[14,5,14,59,0],[16,45,16,58,0],[16,67,16,88,0],[17,38,17,49,0],[17,58,17,77,0],[19,31,19,32,0],[20,9,20,48,0],[21,5,21,6,0],[22,34,22,35,0],[23,9,23,23,0],[24,5,24,6,0],[25,37,25,38,0],[26,9,26,22,0],[27,5,27,6,0],[28,38,28,39,0],[29,9,29,22,0],[30,5,30,6,0],[32,48,32,49,0],[33,9,33,27,0],[34,5,34,6,0],[37,71,37,72,0],[39,9,39,29,0],[41,9,41,22,0],[43,17,43,41,0],[45,17,45,45,0],[47,17,47,45,0],[49,17,49,42,0],[51,17,51,44,0],[53,17,53,41,0],[56,9,56,21,0],[57,5,57,6,0],[58,55,58,56,0],[60,9,60,58,0],[62,9,62,23,0],[62,24,62,25,0],[63,13,63,24,0],[64,9,64,10,0],[65,5,65,6,0],[67,60,67,61,0],[69,9,69,78,0],[70,9,70,43,0],[71,9,71,35,0],[73,9,73,24,0],[74,5,74,6,0],[75,64,75,65,0],[77,9,77,86,0],[78,9,78,47,0],[79,9,79,35,0],[81,9,81,24,0],[82,5,82,6,0],[83,64,83,65,0],[85,9,85,86,0],[86,9,86,47,0],[87,9,87,35,0],[89,9,89,24,0],[90,5,90,6,0],[91,61,91,62,0],[93,9,93,80,0],[94,9,94,44,0],[95,9,95,35,0],[97,9,97,24,0],[98,5,98,6,0],[99,63,99,64,0],[101,9,101,84,0],[102,9,102,46,0],[103,9,103,35,0],[105,9,105,24,0],[106,5,106,6,0],[107,60,107,61,0],[109,9,109,78,0],[110,9,110,43,0],[111,9,111,35,0],[113,9,113,24,0],[114,5,114,6,0]]);
    </script>
  </body>
</html>