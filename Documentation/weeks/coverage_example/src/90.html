<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>p:\stuff\projects\minigamesproject\minigamesproject\assets\_assets\scripts\bearded man studios\modules\lobbysystem\lobbymanager.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using UnityEngine;
using UnityEngine.UI;
using System.Collections;
using System.Collections.Generic;
using BeardedManStudios.Forge.Networking.Lobby;
using System;
using UnityEngine.SceneManagement;

namespace BeardedManStudios.Forge.Networking.Unity.Lobby
{
	public class LobbyManager : MonoBehaviour, ILobbyMaster
	{
		public GameObject PlayerItem;
		public LobbyPlayerItem Myself;
		public InputField ChatInputBox;
		public Text Chatbox;
		public Transform Grid;

		private const int BUFFER_PLAYER_ITEMS = 10;
		private List&lt;LobbyPlayerItem&gt; _lobbyPlayersInactive = new List&lt;LobbyPlayerItem&gt;();
		private List&lt;LobbyPlayerItem&gt; _lobbyPlayersPool = new List&lt;LobbyPlayerItem&gt;();
		private LobbyPlayer _myself;
		private NetworkObject _networkObjectReference;

		#region Interface Members
		private List&lt;IClientMockPlayer&gt; _lobbyPlayers = new List&lt;IClientMockPlayer&gt;();
		public List&lt;IClientMockPlayer&gt; LobbyPlayers
		{
			get
			{
				return _lobbyPlayers;
			}
		}

		private Dictionary&lt;uint, IClientMockPlayer&gt; _lobbyPlayersMap = new Dictionary&lt;uint, IClientMockPlayer&gt;();
		public Dictionary&lt;uint, IClientMockPlayer&gt; LobbyPlayersMap
		{
			get
			{
				return _lobbyPlayersMap;
			}
		}

		private Dictionary&lt;int, List&lt;IClientMockPlayer&gt;&gt; _lobbyTeams = new Dictionary&lt;int, List&lt;IClientMockPlayer&gt;&gt;();
		public Dictionary&lt;int, List&lt;IClientMockPlayer&gt;&gt; LobbyTeams
		{
			get
			{
				return _lobbyTeams;
			}
		}
		#endregion

		public void Awake()
		{
			if (NetworkManager.Instance.IsServer)
			{
				SetupComplete();
				return;
			}


			for (int i = 0; i &lt; NetworkObject.NetworkObjects.Count; ++i)
			{
				NetworkObject n = NetworkObject.NetworkObjects[i];
				if (n is LobbyService.LobbyServiceNetworkObject)
				{
					SetupService(n);
					return;
				}
			}

            NetworkManager.Instance.Networker.objectCreateRequested += CheckForService;
            NetworkManager.Instance.Networker.factoryObjectCreated += FactoryObjectCreated;
		}

		private void CheckForService(NetWorker networker, int identity, uint id, Frame.FrameStream frame, Action&lt;NetworkObject&gt; callback)
		{
			if (identity != LobbyService.LobbyServiceNetworkObject.IDENTITY)
			{
				return;
			}

			NetworkObject obj = new LobbyService.LobbyServiceNetworkObject(networker, id, frame);
			if (callback != null)
				callback(obj);
			SetupService(obj);
		}

		private void FactoryObjectCreated(NetworkObject obj)
		{
			if (obj.UniqueIdentity != LobbyService.LobbyServiceNetworkObject.IDENTITY)
				return;

            NetworkManager.Instance.Networker.factoryObjectCreated -= FactoryObjectCreated;
            SetupService(obj);
        }

		private void SetupService(NetworkObject obj)
		{
			LobbyService.Instance.Initialize(obj);
			SetupComplete();
		}

		#region Public API
		public void ChangeName(LobbyPlayerItem item, string newName)
		{
			LobbyService.Instance.SetName(newName);
		}

		public void KickPlayer(LobbyPlayerItem item)
		{
			LobbyPlayer playerKicked = item.AssociatedPlayer;
			LobbyService.Instance.KickPlayer(playerKicked.NetworkId);
		}

		public void ChangeAvatarID(LobbyPlayerItem item, int nextID)
		{
			LobbyService.Instance.SetAvatar(nextID);
		}

		public void ChangeTeam(LobbyPlayerItem item, int nextTeam)
		{
			LobbyService.Instance.SetTeamId(nextTeam);
		}

		public void SendPlayersMessage()
		{
			string chatMessage = ChatInputBox.text;
			if (string.IsNullOrEmpty(chatMessage))
				return;

			LobbyService.Instance.SendPlayerMessage(chatMessage);
			ChatInputBox.text = string.Empty;
		}

        public void StartGame(int sceneID)
        {
#if UNITY_5_6_OR_NEWER
            SceneManager.LoadScene(sceneID);
#else
            Application.LoadLevel(sceneID);
#endif
        }
        #endregion

        #region Private API
        private LobbyPlayerItem GetNewPlayerItem()
		{
			LobbyPlayerItem returnValue = null;

			if (_lobbyPlayersInactive.Count &gt; 0)
			{
				returnValue = _lobbyPlayersInactive[0];
				_lobbyPlayersInactive.Remove(returnValue);
				_lobbyPlayersPool.Add(returnValue);
			}
			else
			{
				//Generate more!
				for (int i = 0; i &lt; BUFFER_PLAYER_ITEMS - 1; ++i)
				{
					LobbyPlayerItem item = CreateNewPlayerItem();
					item.ToggleObject(false);
					item.SetParent(Grid);
					_lobbyPlayersInactive.Add(item);
				}
				returnValue = CreateNewPlayerItem();
				_lobbyPlayersPool.Add(returnValue);
			}
			returnValue.ToggleObject(true);

			return returnValue;
		}

		private void PutBackToPool(LobbyPlayerItem item)
		{
			item.ToggleInteractables(false);
			item.ToggleObject(false);
			_lobbyPlayersPool.Remove(item);
			_lobbyPlayersInactive.Add(item);
		}

		private LobbyPlayerItem CreateNewPlayerItem()
		{
			LobbyPlayerItem returnValue = Instantiate(PlayerItem).GetComponent&lt;LobbyPlayerItem&gt;();
			returnValue.Init(this);
			return returnValue;
		}

		private LobbyPlayerItem GrabLobbyPlayerItem(IClientMockPlayer player)
		{
			LobbyPlayerItem returnValue = null;

			for (int i = 0; i &lt; _lobbyPlayersPool.Count; ++i)
			{
				if (_lobbyPlayersPool[i].AssociatedPlayer.NetworkId == player.NetworkId)
				{
					returnValue = _lobbyPlayersPool[i];
				}
			}

			return returnValue;
		}

		private LobbyPlayer GrabPlayer(IClientMockPlayer player)
		{
			LobbyPlayer returnValue = player as LobbyPlayer;
			if (returnValue == null)
			{
				for (int i = 0; i &lt; LobbyPlayers.Count; ++i)
				{
					if (LobbyPlayers[i].NetworkId == player.NetworkId)
					{
						LobbyPlayer tPlayer = LobbyPlayers[i] as LobbyPlayer;
						if (tPlayer == null)
						{
							tPlayer = new LobbyPlayer();
							tPlayer.Name = player.Name;
							tPlayer.NetworkId = player.NetworkId;
                            tPlayer.AvatarID = player.AvatarID;
                            tPlayer.TeamID = player.TeamID;
							LobbyPlayers[i] = tPlayer;
						}
						returnValue = tPlayer;
						returnValue.Name = player.Name;
						break;
					}
				}

				if (returnValue == null)
				{
					returnValue = new LobbyPlayer();
					returnValue.Name = player.Name;
					returnValue.NetworkId = player.NetworkId;
                    returnValue.AvatarID = player.AvatarID;
                    returnValue.TeamID = player.TeamID;
				}
			}

			return returnValue;
		}
		#endregion

		#region Interface API
		public void OnFNPlayerConnected(IClientMockPlayer player)
		{
			LobbyPlayer convertedPlayer = GrabPlayer(player);
			if (convertedPlayer == _myself || _myself == null)
				return; //Ignore re-adding ourselves

            bool playerCreated = false;
            for (int i = 0; i &lt; _lobbyPlayersPool.Count; ++i)
            {
                if (_lobbyPlayersPool[i].AssociatedPlayer.NetworkId == player.NetworkId)
                    playerCreated = true;
            }

            playerCreated = convertedPlayer.Created;
            if (playerCreated)
                return;

            convertedPlayer.Created = true;

            if (!LobbyPlayers.Contains(convertedPlayer))
                _lobbyPlayers.Add(convertedPlayer);
            if (_lobbyPlayersMap.ContainsKey(convertedPlayer.NetworkId))
                _lobbyPlayersMap[convertedPlayer.NetworkId] = convertedPlayer;
            else
                _lobbyPlayersMap.Add(convertedPlayer.NetworkId, convertedPlayer);

            OnFNTeamChanged(convertedPlayer);

            MainThreadManager.Run(() =&gt;
            {
                LobbyPlayerItem item = GetNewPlayerItem();
                item.Setup(convertedPlayer, false);
                if (LobbyService.Instance.IsServer)
                    item.KickButton.SetActive(true);
                item.SetParent(Grid);
            });
        }

		public void OnFNPlayerDisconnected(IClientMockPlayer player)
		{
			LobbyPlayer convertedPlayer = GrabPlayer(player);
			MainThreadManager.Run(() =&gt;
			{
				if (LobbyPlayers.Contains(convertedPlayer))
				{
					_lobbyPlayers.Remove(convertedPlayer);
					_lobbyPlayersMap.Remove(convertedPlayer.NetworkId);

					LobbyPlayerItem item = GrabLobbyPlayerItem(convertedPlayer);
					if (item != null)
						PutBackToPool(item);
				}
			});
		}

		public void OnFNPlayerNameChanged(IClientMockPlayer player)
		{
			LobbyPlayer convertedPlayer = GrabPlayer(player);
			convertedPlayer.Name = player.Name;
			if (_myself == convertedPlayer)
				Myself.ChangeName(convertedPlayer.Name);
			else
			{
				LobbyPlayerItem item = GrabLobbyPlayerItem(convertedPlayer);
                if (item != null)
                    item.ChangeName(convertedPlayer.Name);
			}
		}

		public void OnFNTeamChanged(IClientMockPlayer player)
		{
            int newID = player.TeamID;
			if (!LobbyTeams.ContainsKey(newID))
				LobbyTeams.Add(newID, new List&lt;IClientMockPlayer&gt;());

			//We do this to not make Foreach loops
			IEnumerator iter = LobbyTeams.GetEnumerator();
			iter.Reset();
			while (iter.MoveNext())
			{
				if (iter.Current != null)
				{
					KeyValuePair&lt;int, List&lt;IClientMockPlayer&gt;&gt; kv = (KeyValuePair&lt;int, List&lt;IClientMockPlayer&gt;&gt;)iter.Current;
					if (kv.Value.Contains(player))
					{
						kv.Value.Remove(player);
						break;
					}
				}
				else
					break;
			}

			//We prevent the player being added twice to the same team
			if (!LobbyTeams[newID].Contains(player))
			{
				LobbyPlayer convertedPlayer = player as LobbyPlayer;
				convertedPlayer.TeamID = newID;

				if (_myself == convertedPlayer)
					Myself.ChangeTeam(newID);
				else
				{
					LobbyPlayerItem item = GrabLobbyPlayerItem(convertedPlayer);
					if (item != null)
						item.ChangeTeam(newID);
				}

				LobbyTeams[newID].Add(player);
			}
		}

		public void OnFNAvatarIDChanged(IClientMockPlayer player)
		{
			LobbyPlayer convertedPlayer = GrabPlayer(player);
			convertedPlayer.AvatarID = player.AvatarID;
			if (_myself == convertedPlayer)
				Myself.ChangeAvatarID(convertedPlayer.AvatarID);
			else
			{
				LobbyPlayerItem item = GrabLobbyPlayerItem(convertedPlayer);
                if (item != null)
                    item.ChangeAvatarID(convertedPlayer.AvatarID);
			}
		}

		public void OnFNLobbyPlayerMessageReceived(IClientMockPlayer player, string message)
		{
			LobbyPlayer convertedPlayer = GrabPlayer(player);
			Chatbox.text += string.Format(&quot;{0}: {1}\n&quot;, convertedPlayer.Name, message);
		}

        public void OnFNPlayerSync(IClientMockPlayer player)
        {
            OnFNAvatarIDChanged(player);
            OnFNTeamChanged(player);
            OnFNPlayerNameChanged(player);
        }

		public void OnFNLobbyMasterKnowledgeTransfer(ILobbyMaster previousLobbyMaster)
		{
			LobbyPlayers.Clear();
			LobbyPlayersMap.Clear();
			LobbyTeams.Clear();
			for (int i = 0; i &lt; previousLobbyMaster.LobbyPlayers.Count; ++i)
			{
				LobbyPlayer player = GrabPlayer(previousLobbyMaster.LobbyPlayers[i]);
				LobbyPlayers.Add(player);
				LobbyPlayersMap.Add(player.NetworkId, player);
			}

			IEnumerator iterTeams = previousLobbyMaster.LobbyTeams.GetEnumerator();
			iterTeams.Reset();
			while (iterTeams.MoveNext())
			{
				if (iterTeams.Current != null)
				{
					KeyValuePair&lt;int, List&lt;IClientMockPlayer&gt;&gt; kv = (KeyValuePair&lt;int, List&lt;IClientMockPlayer&gt;&gt;)iterTeams.Current;
					List&lt;IClientMockPlayer&gt; players = new List&lt;IClientMockPlayer&gt;();
					for (int i = 0; i &lt; kv.Value.Count; ++i)
					{
						players.Add(GrabPlayer(kv.Value[i]));
					}
					LobbyTeams.Add(kv.Key, players);
				}
				else
					break;
			}

			IEnumerator iterPlayersMap = previousLobbyMaster.LobbyPlayersMap.GetEnumerator();
			iterPlayersMap.Reset();
			while (iterPlayersMap.MoveNext())
			{
				if (iterPlayersMap.Current != null)
				{
					KeyValuePair&lt;uint, IClientMockPlayer&gt; kv = (KeyValuePair&lt;uint, IClientMockPlayer&gt;)iterPlayersMap.Current;

					if (LobbyPlayersMap.ContainsKey(kv.Key))
						LobbyPlayersMap[kv.Key] = GrabPlayer(kv.Value);
					else
						LobbyPlayersMap.Add(kv.Key, GrabPlayer(kv.Value));
				}
				else
					break;
			}
		}

		private void SetupComplete()
		{
			LobbyService.Instance.SetLobbyMaster(this);
            LobbyService.Instance.Initialize(NetworkManager.Instance.Networker);
            
			//If I am the host, then I should show the kick button for all players here
			LobbyPlayerItem item = GetNewPlayerItem(); //This will just auto generate the 10 items we need to start with
			item.SetParent(Grid);
			PutBackToPool(item);

			_myself = GrabPlayer(LobbyService.Instance.MyMockPlayer);
			if (!LobbyPlayers.Contains(_myself))
				LobbyPlayers.Add(_myself);
			Myself.Init(this);
			Myself.Setup(_myself, true);

			List&lt;IClientMockPlayer&gt; currentPlayers = LobbyService.Instance.MasterLobby.LobbyPlayers;
			for (int i = 0; i &lt; currentPlayers.Count; ++i)
			{
				IClientMockPlayer currentPlayer = currentPlayers[i];
				if (currentPlayer == _myself)
					continue;
				OnFNPlayerConnected(currentPlayers[i]);
			}
		}
		#endregion
	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[20,3,20,85,0],[21,3,21,81,0],[26,3,26,81,0],[30,4,30,5,0],[31,5,31,26,0],[32,4,32,5,0],[35,3,35,108,0],[39,4,39,5,0],[40,5,40,29,0],[41,4,41,5,0],[44,3,44,113,0],[48,4,48,5,0],[49,5,49,24,0],[50,4,50,5,0],[55,3,55,4,0],[56,4,56,41,0],[57,4,57,5,0],[58,5,58,21,0],[59,5,59,12,0],[63,9,63,18,0],[63,20,63,58,0],[63,60,63,63,0],[64,4,64,5,0],[65,5,65,55,0],[66,5,66,53,0],[67,5,67,6,0],[68,6,68,22,0],[69,6,69,13,0],[71,4,71,5,0],[73,13,73,88,0],[74,13,74,92,0],[75,3,75,4,0],[78,3,78,4,0],[79,4,79,68,0],[80,4,80,5,0],[81,5,81,12,0],[84,4,84,89,0],[85,4,85,25,0],[86,5,86,19,0],[87,4,87,22,0],[88,3,88,4,0],[91,3,91,4,0],[92,4,92,78,0],[93,5,93,12,0],[95,13,95,92,0],[96,13,96,31,0],[97,9,97,10,0],[100,3,100,4,0],[101,4,101,42,0],[102,4,102,20,0],[103,3,103,4,0],[107,3,107,4,0],[108,4,108,43,0],[109,3,109,4,0],[112,3,112,4,0],[113,4,113,53,0],[114,4,114,61,0],[115,3,115,4,0],[118,3,118,4,0],[119,4,119,44,0],[120,3,120,4,0],[123,3,123,4,0],[124,4,124,46,0],[125,3,125,4,0],[128,3,128,4,0],[129,4,129,43,0],[130,4,130,42,0],[131,5,131,12,0],[133,4,133,57,0],[134,4,134,37,0],[135,3,135,4,0],[138,9,138,10,0],[140,13,140,45,0],[144,9,144,10,0],[149,3,149,4,0],[150,4,150,39,0],[152,4,152,40,0],[153,4,153,5,0],[154,5,154,44,0],[155,5,155,47,0],[156,5,156,40,0],[157,4,157,5,0],[159,4,159,5,0],[161,10,161,19,0],[161,21,161,48,0],[161,50,161,53,0],[162,5,162,6,0],[163,6,163,51,0],[164,6,164,31,0],[165,6,165,27,0],[166,6,166,38,0],[167,5,167,6,0],[168,5,168,41,0],[169,5,169,40,0],[170,4,170,5,0],[171,4,171,35,0],[173,4,173,23,0],[174,3,174,4,0],[177,3,177,4,0],[178,4,178,36,0],[179,4,179,29,0],[180,4,180,35,0],[181,4,181,36,0],[182,3,182,4,0],[185,3,185,4,0],[186,4,186,90,0],[187,4,187,27,0],[188,4,188,23,0],[189,3,189,4,0],[192,3,192,4,0],[193,4,193,39,0],[195,9,195,18,0],[195,20,195,47,0],[195,49,195,52,0],[196,4,196,5,0],[197,5,197,77,0],[198,5,198,6,0],[199,6,199,41,0],[200,5,200,6,0],[201,4,201,5,0],[203,4,203,23,0],[204,3,204,4,0],[207,3,207,4,0],[208,4,208,52,0],[209,4,209,28,0],[210,4,210,5,0],[211,10,211,19,0],[211,21,211,43,0],[211,45,211,48,0],[212,5,212,6,0],[213,6,213,56,0],[214,6,214,7,0],[215,7,215,60,0],[216,7,216,27,0],[217,7,217,8,0],[218,8,218,36,0],[219,8,219,35,0],[220,8,220,45,0],[221,29,221,64,0],[222,29,222,60,0],[223,8,223,34,0],[224,7,224,8,0],[225,7,225,29,0],[226,7,226,38,0],[227,7,227,13,0],[229,5,229,6,0],[231,5,231,29,0],[232,5,232,6,0],[233,6,233,38,0],[234,6,234,37,0],[235,6,235,47,0],[236,21,236,60,0],[237,21,237,56,0],[238,5,238,6,0],[239,4,239,5,0],[241,4,241,23,0],[242,3,242,4,0],[247,3,247,4,0],[248,4,248,53,0],[249,4,249,54,0],[250,5,250,12,0],[252,13,252,40,0],[253,18,253,27,0],[253,29,253,56,0],[253,58,253,61,0],[254,13,254,14,0],[255,17,255,89,0],[256,21,256,42,0],[257,13,257,14,0],[259,13,259,53,0],[260,13,260,31,0],[261,17,261,24,0],[263,13,263,44,0],[265,13,265,57,0],[266,17,266,52,0],[267,13,267,73,0],[268,17,268,79,0],[270,17,270,82,0],[272,13,272,46,0],[274,13,275,13,0],[275,13,275,14,0],[275,14,276,17,0],[276,17,276,59,0],[276,59,277,17,0],[277,17,277,52,0],[277,52,278,17,0],[278,17,278,52,0],[278,52,279,21,0],[279,21,279,53,0],[279,53,280,17,0],[280,17,280,38,0],[280,38,281,13,0],[281,13,281,14,0],[281,14,281,16,0],[274,13,281,16,0],[282,9,282,10,0],[285,3,285,4,0],[286,4,286,53,0],[287,4,288,4,0],[288,4,288,5,0],[288,5,289,5,0],[289,5,289,48,0],[289,48,290,5,0],[290,5,290,6,0],[290,6,291,6,0],[291,6,291,44,0],[291,44,292,6,0],[292,6,292,57,0],[292,57,294,6,0],[294,6,294,66,0],[294,66,295,6,0],[295,6,295,23,0],[295,23,296,7,0],[296,7,296,27,0],[296,27,297,5,0],[297,5,297,6,0],[297,6,298,4,0],[298,4,298,5,0],[298,5,298,7,0],[287,4,298,7,0],[299,3,299,4,0],[302,3,302,4,0],[303,4,303,53,0],[304,4,304,39,0],[305,4,305,35,0],[306,5,306,45,0],[308,4,308,5,0],[309,5,309,65,0],[310,17,310,34,0],[311,21,311,59,0],[312,4,312,5,0],[313,3,313,4,0],[316,3,316,4,0],[317,13,317,39,0],[318,4,318,39,0],[319,5,319,58,0],[322,4,322,50,0],[323,4,323,17,0],[324,4,324,27,0],[325,4,325,5,0],[326,5,326,30,0],[327,5,327,6,0],[328,6,328,111,0],[329,6,329,36,0],[330,6,330,7,0],[331,7,331,31,0],[332,7,332,13,0],[334,5,334,6,0],[336,6,336,12,0],[337,4,337,5,0],[340,4,340,44,0],[341,4,341,5,0],[342,5,342,57,0],[343,5,343,36,0],[345,5,345,36,0],[346,6,346,31,0],[348,5,348,6,0],[349,6,349,66,0],[350,6,350,23,0],[351,7,351,30,0],[352,5,352,6,0],[354,5,354,35,0],[355,4,355,5,0],[356,3,356,4,0],[359,3,359,4,0],[360,4,360,53,0],[361,4,361,47,0],[362,4,362,35,0],[363,5,363,53,0],[365,4,365,5,0],[366,5,366,65,0],[367,17,367,34,0],[368,21,368,67,0],[369,4,369,5,0],[370,3,370,4,0],[373,3,373,4,0],[374,4,374,53,0],[375,4,375,79,0],[376,3,376,4,0],[379,9,379,10,0],[380,13,380,41,0],[381,13,381,37,0],[382,13,382,43,0],[383,9,383,10,0],[386,3,386,4,0],[387,4,387,25,0],[388,4,388,28,0],[389,4,389,23,0],[390,9,390,18,0],[390,20,390,62,0],[390,64,390,67,0],[391,4,391,5,0],[392,5,392,74,0],[393,5,393,30,0],[394,5,394,51,0],[395,4,395,5,0],[397,4,397,75,0],[398,4,398,22,0],[399,4,399,32,0],[400,4,400,5,0],[401,5,401,35,0],[402,5,402,6,0],[403,6,403,116,0],[404,6,404,70,0],[405,11,405,20,0],[405,22,405,40,0],[405,42,405,45,0],[406,6,406,7,0],[407,7,407,44,0],[408,6,408,7,0],[409,6,409,38,0],[410,5,410,6,0],[412,6,412,12,0],[413,4,413,5,0],[415,4,415,85,0],[416,4,416,27,0],[417,4,417,37,0],[418,4,418,5,0],[419,5,419,40,0],[420,5,420,6,0],[421,6,421,111,0],[423,6,423,46,0],[424,7,424,54,0],[426,7,426,57,0],[427,5,427,6,0],[429,6,429,12,0],[430,4,430,5,0],[431,3,431,4,0],[434,3,434,4,0],[435,4,435,47,0],[436,13,436,81,0],[439,4,439,46,0],[440,4,440,25,0],[441,4,441,24,0],[443,4,443,61,0],[444,4,444,40,0],[445,5,445,31,0],[446,4,446,22,0],[447,4,447,32,0],[449,4,449,92,0],[450,9,450,18,0],[450,20,450,44,0],[450,46,450,49,0],[451,4,451,5,0],[452,5,452,57,0],[453,5,453,34,0],[454,6,454,15,0],[455,5,455,44,0],[456,4,456,5,0],[457,3,457,4,0]]);
    </script>
  </body>
</html>