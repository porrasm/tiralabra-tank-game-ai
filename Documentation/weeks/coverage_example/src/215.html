<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>p:\stuff\projects\minigamesproject\minigamesproject\assets\bearded man studios inc\editor\forgeeditorfield.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using UnityEditor;
using UnityEngine;
using System;

namespace BeardedManStudios.Forge.Networking.UnityEditor
{
	/// &lt;summary&gt;
	/// This is a editor field for the network object
	/// &lt;/summary&gt;
	[Serializable]
	public class ForgeEditorField
	{
		public string FieldName;
		public bool CanRender = true;
		public bool Interpolate;
		public float InterpolateValue;
		public ForgeAcceptableFieldTypes FieldType;

		public ForgeEditorField(string name = &quot;&quot;, bool canRender = true, ForgeAcceptableFieldTypes type = ForgeAcceptableFieldTypes.BYTE, bool interpolate = false, float interpolateValue = 0f)
		{
			this.FieldName = name;
			this.FieldType = type;
			this.Interpolate = interpolate;
			this.InterpolateValue = interpolateValue;
			this.CanRender = canRender;
		}

		public void Render()
		{
			if (!CanRender)
				return;

			GUILayout.BeginHorizontal();
			FieldName = GUILayout.TextField(FieldName);
			FieldType = (ForgeAcceptableFieldTypes)EditorGUILayout.EnumPopup(FieldType, GUILayout.Width(75));
			//if (FieldType == ForgeAcceptableFieldTypes.Unknown) //Unsupported
			//{
			//	Debug.LogError(&quot;Can&#39;t set the type to unknown (Not Allowed)&quot;);
			//	FieldType = AcceptableTypes.INT;
			//}

			if (ForgeClassFieldValue.IsInterpolatable(FieldType))
			{
				GUI.color = Interpolate ? Color.white : Color.gray;
				if (GUILayout.Button(&quot;Interpolate&quot;, GUILayout.Width(100)))
					Interpolate = !Interpolate;

				if (Interpolate)
				{
					if (InterpolateValue == 0)
						InterpolateValue = ForgeNetworkingEditor.DEFAULT_INTERPOLATE_TIME;
					else
						InterpolateValue = EditorGUILayout.FloatField(InterpolateValue, GUILayout.Width(50));
				}
				else
				{
					InterpolateValue = 0;
					//InterpolateValue = ForgeNetworkingEditor.DEFAULT_INTERPOLATE_TIME;
				}
			}
		}

		public void Render(Rect rect, bool isActive, bool isFocused)
		{
			if (!CanRender)
				return;

			rect.y += 2;

			Rect changingRect = new Rect(rect.x, rect.y, rect.width * 0.3f, EditorGUIUtility.singleLineHeight);
			FieldName = EditorGUI.TextField(changingRect, FieldName);
			changingRect.x += rect.width * 0.3f + 5;
			FieldType = (ForgeAcceptableFieldTypes)EditorGUI.EnumPopup(changingRect, FieldType);
			if (ForgeClassFieldValue.IsInterpolatable(FieldType))
			{
				changingRect.x += rect.width * 0.3f + 10;
				changingRect.width = rect.width * 0.2f;
				Interpolate = EditorGUI.ToggleLeft(changingRect, &quot;  Interpolate&quot;, Interpolate);

				if (Interpolate)
				{
					if (InterpolateValue == 0)
						InterpolateValue = ForgeNetworkingEditor.DEFAULT_INTERPOLATE_TIME;
					else
					{
						changingRect.x += rect.width * 0.2f + 5;
						changingRect.width = rect.width * 0.3f;
						InterpolateValue = EditorGUI.FloatField(changingRect, InterpolateValue);
					}
				}
				else
					InterpolateValue = 0;
			}
		}
	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,3,14,32,0],[19,3,19,187,0],[20,3,20,4,0],[21,4,21,26,0],[22,4,22,26,0],[23,4,23,35,0],[24,4,24,45,0],[25,4,25,31,0],[26,3,26,4,0],[29,3,29,4,0],[30,4,30,19,0],[31,5,31,12,0],[33,4,33,32,0],[34,4,34,47,0],[35,4,35,101,0],[42,4,42,57,0],[43,4,43,5,0],[44,5,44,56,0],[45,5,45,63,0],[46,6,46,33,0],[48,5,48,21,0],[49,5,49,6,0],[50,6,50,32,0],[51,7,51,73,0],[53,7,53,92,0],[54,5,54,6,0],[56,5,56,6,0],[57,6,57,27,0],[59,5,59,6,0],[60,4,60,5,0],[61,3,61,4,0],[64,3,64,4,0],[65,4,65,19,0],[66,5,66,12,0],[68,4,68,16,0],[70,4,70,103,0],[71,4,71,61,0],[72,4,72,44,0],[73,4,73,88,0],[74,4,74,57,0],[75,4,75,5,0],[76,5,76,46,0],[77,5,77,44,0],[78,5,78,84,0],[80,5,80,21,0],[81,5,81,6,0],[82,6,82,32,0],[83,7,83,73,0],[85,6,85,7,0],[86,7,86,47,0],[87,7,87,46,0],[88,7,88,79,0],[89,6,89,7,0],[90,5,90,6,0],[92,6,92,27,0],[93,4,93,5,0],[94,3,94,4,0]]);
    </script>
  </body>
</html>