<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>p:\stuff\projects\minigamesproject\minigamesproject\assets\_assets\scripts\bearded man studios\modules\lobbysystem\lobbyplayeritem.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using UnityEngine;
using UnityEngine.UI;
using System.Collections;

namespace BeardedManStudios.Forge.Networking.Unity.Lobby
{
	public class LobbyPlayerItem : MonoBehaviour
	{
		public Color[] TeamColors;
		public Color[] AvatarColors;
		public GameObject KickButton;
		public Image AvatarBG;
		public Text AvatarID;
		public InputField PlayerName;
		public Text PlayerTeamID;

        public Button[] Buttons;

		[HideInInspector]
		public Transform ThisTransform;

		[HideInInspector]
		public GameObject ThisGameObject;

		public LobbyPlayer AssociatedPlayer { get; private set; }
		private LobbyManager _manager;

		public void Init(LobbyManager manager)
		{
			ThisGameObject = gameObject;
			ThisTransform = transform;
			_manager = manager;
		}

		public void Setup(LobbyPlayer associatedPlayer, bool interactableValue)
		{
			ToggleInteractables(interactableValue);
			AssociatedPlayer = associatedPlayer;
            ChangeAvatarID(associatedPlayer.AvatarID);
            ChangeName(associatedPlayer.Name);
            ChangeTeam(associatedPlayer.TeamID);
		}

		public void SetParent(Transform parent)
		{
			ThisTransform.SetParent(parent);
			ThisTransform.localPosition = Vector3.zero;
			ThisTransform.localScale = Vector3.one;
		}

		public void KickPlayer()
		{
			_manager.KickPlayer(this);
		}
		
		public void RequestChangeTeam()
		{
			int nextID = AssociatedPlayer.TeamID + 1;
			if (nextID &gt;= TeamColors.Length)
				nextID = 0;

			_manager.ChangeTeam(this, nextID);
		}

		public void RequestChangeAvatarID()
		{
			int nextID = AssociatedPlayer.AvatarID + 1;
			if (nextID &gt;= AvatarColors.Length)
				nextID = 0;

			_manager.ChangeAvatarID(this, nextID);
		}

		public void RequestChangeName()
		{
			_manager.ChangeName(this, PlayerName.text);
		}

		public void ChangeAvatarID(int id)
		{
			Color avatarColor = Color.white;

			//Note: This is just an example, you are free to make your own team colors and
			// change this to however you see fit
			if (TeamColors.Length &gt; id &amp;&amp; id &gt;= 0)
				avatarColor = AvatarColors[id];

			AvatarID.text = id.ToString();
			AvatarBG.color = avatarColor;
		}

		public void ChangeName(string name)
		{
			PlayerName.text = name;
		}

		public void ChangeTeam(int id)
		{
			PlayerTeamID.text = string.Format(&quot;Team {0}&quot;, id);
		}

		public void ToggleInteractables(bool value)
		{
            for (int i = 0; i &lt; Buttons.Length; ++i)
                Buttons[i].interactable = value;

            AvatarBG.raycastTarget = value;
			PlayerTeamID.raycastTarget = value;
			PlayerName.interactable = value;
		}

		public void ToggleObject(bool value)
		{
			ThisGameObject.SetActive(value);
		}
	}
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[25,41,25,45,0],[25,46,25,58,0],[29,3,29,4,0],[30,4,30,32,0],[31,4,31,30,0],[32,4,32,23,0],[33,3,33,4,0],[36,3,36,4,0],[37,4,37,43,0],[38,4,38,40,0],[39,13,39,55,0],[40,13,40,47,0],[41,13,41,49,0],[42,3,42,4,0],[45,3,45,4,0],[46,4,46,36,0],[47,4,47,47,0],[48,4,48,43,0],[49,3,49,4,0],[52,3,52,4,0],[53,4,53,30,0],[54,3,54,4,0],[57,3,57,4,0],[58,4,58,45,0],[59,4,59,36,0],[60,5,60,16,0],[62,4,62,38,0],[63,3,63,4,0],[66,3,66,4,0],[67,4,67,47,0],[68,4,68,38,0],[69,5,69,16,0],[71,4,71,42,0],[72,3,72,4,0],[75,3,75,4,0],[76,4,76,47,0],[77,3,77,4,0],[80,3,80,4,0],[81,4,81,36,0],[85,4,85,42,0],[86,5,86,36,0],[88,4,88,34,0],[89,4,89,33,0],[90,3,90,4,0],[93,3,93,4,0],[94,4,94,27,0],[95,3,95,4,0],[98,3,98,4,0],[99,4,99,54,0],[100,3,100,4,0],[103,3,103,4,0],[104,18,104,27,0],[104,29,104,47,0],[104,49,104,52,0],[105,17,105,49,0],[107,13,107,44,0],[108,4,108,39,0],[109,4,109,36,0],[110,3,110,4,0],[113,3,113,4,0],[114,4,114,36,0],[115,3,115,4,0]]);
    </script>
  </body>
</html>