<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>p:\stuff\projects\minigamesproject\minigamesproject\assets\unity-logs-viewer\reporter\editor\reportereditor.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using UnityEngine;
using UnityEditor;
using UnityEditor.Callbacks;

using System.IO;
using System.Collections;


public class ReporterEditor : Editor
{
	[MenuItem(&quot;Reporter/Create&quot;)]
	public static void CreateReporter()
	{
		const int ReporterExecOrder = -12000;
		GameObject reporterObj = new GameObject();
		reporterObj.name = &quot;Reporter&quot;;
		Reporter reporter = reporterObj.AddComponent&lt;Reporter&gt;();
		reporterObj.AddComponent&lt;ReporterMessageReceiver&gt;();
		//reporterObj.AddComponent&lt;TestReporter&gt;();
		
		// Register root object for undo.
		Undo.RegisterCreatedObjectUndo(reporterObj, &quot;Create Reporter Object&quot;);

		MonoScript reporterScript = MonoScript.FromMonoBehaviour(reporter);
		string reporterPath = Path.GetDirectoryName(AssetDatabase.GetAssetPath(reporterScript));

		if (MonoImporter.GetExecutionOrder(reporterScript) != ReporterExecOrder) {
			MonoImporter.SetExecutionOrder(reporterScript, ReporterExecOrder);
			//Debug.Log(&quot;Fixing exec order for &quot; + reporterScript.name);
		}

		reporter.images = new Images();
		reporter.images.clearImage           = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/clear.png&quot;), typeof(Texture2D));
		reporter.images.collapseImage        = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/collapse.png&quot;), typeof(Texture2D));
		reporter.images.clearOnNewSceneImage = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/clearOnSceneLoaded.png&quot;), typeof(Texture2D));
		reporter.images.showTimeImage        = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/timer_1.png&quot;), typeof(Texture2D));
		reporter.images.showSceneImage       = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/UnityIcon.png&quot;), typeof(Texture2D));
		reporter.images.userImage            = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/user.png&quot;), typeof(Texture2D));
		reporter.images.showMemoryImage      = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/memory.png&quot;), typeof(Texture2D));
		reporter.images.softwareImage        = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/software.png&quot;), typeof(Texture2D));
		reporter.images.dateImage            = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/date.png&quot;), typeof(Texture2D));
		reporter.images.showFpsImage         = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/fps.png&quot;), typeof(Texture2D));
		//reporter.images.graphImage           = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/chart.png&quot;), typeof(Texture2D));
		reporter.images.infoImage            = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/info.png&quot;), typeof(Texture2D));
        reporter.images.saveLogsImage        = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/Save.png&quot;), typeof(Texture2D));
        reporter.images.searchImage          = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/search.png&quot;), typeof(Texture2D));
		reporter.images.closeImage           = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/close.png&quot;), typeof(Texture2D));
		reporter.images.buildFromImage       = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/buildFrom.png&quot;), typeof(Texture2D));
		reporter.images.systemInfoImage      = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/ComputerIcon.png&quot;), typeof(Texture2D));
		reporter.images.graphicsInfoImage    = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/graphicCard.png&quot;), typeof(Texture2D));
		reporter.images.backImage            = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/back.png&quot;), typeof(Texture2D));
		reporter.images.logImage             = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/log_icon.png&quot;), typeof(Texture2D));
		reporter.images.warningImage         = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/warning_icon.png&quot;), typeof(Texture2D));
		reporter.images.errorImage           = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/error_icon.png&quot;), typeof(Texture2D));
		reporter.images.barImage             = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/bar.png&quot;), typeof(Texture2D));
		reporter.images.button_activeImage   = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/button_active.png&quot;), typeof(Texture2D));
		reporter.images.even_logImage        = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/even_log.png&quot;), typeof(Texture2D));
		reporter.images.odd_logImage         = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/odd_log.png&quot;), typeof(Texture2D));
		reporter.images.selectedImage        = (Texture2D)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/selected.png&quot;), typeof(Texture2D));

		reporter.images.reporterScrollerSkin = (GUISkin)AssetDatabase.LoadAssetAtPath(Path.Combine(reporterPath, &quot;Images/reporterScrollerSkin.guiskin&quot;), typeof(GUISkin));
	}
}

public class ReporterModificationProcessor : UnityEditor.AssetModificationProcessor
{
	[InitializeOnLoad]
	public class BuildInfo
	{
		static BuildInfo()
		{
			EditorApplication.update += Update;
		}

		static bool isCompiling = true;
		static void Update()
		{
			if (!EditorApplication.isCompiling &amp;&amp; isCompiling) {
				//Debug.Log(&quot;Finish Compile&quot;);
				if (!Directory.Exists(Application.dataPath + &quot;/StreamingAssets&quot;)) {
					Directory.CreateDirectory(Application.dataPath + &quot;/StreamingAssets&quot;);
				}
				string info_path = Application.dataPath + &quot;/StreamingAssets/build_info.txt&quot;;
				StreamWriter build_info = new StreamWriter(info_path);
				build_info.Write(&quot;Build from &quot; + SystemInfo.deviceName + &quot; at &quot; + System.DateTime.Now.ToString());
				build_info.Close();
			}

			isCompiling = EditorApplication.isCompiling;
		}
	}
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[13,2,13,3,0],[15,3,15,45,0],[16,3,16,33,0],[17,3,17,60,0],[18,3,18,55,0],[22,3,22,73,0],[24,3,24,70,0],[25,3,25,91,0],[27,3,27,75,0],[27,76,27,77,0],[28,4,28,70,0],[30,3,30,4,0],[32,3,32,34,0],[33,3,33,150,0],[34,3,34,153,0],[35,3,35,163,0],[36,3,36,152,0],[37,3,37,154,0],[38,3,38,149,0],[39,3,39,151,0],[40,3,40,153,0],[41,3,41,149,0],[42,3,42,148,0],[44,3,44,149,0],[45,9,45,155,0],[46,9,46,157,0],[47,3,47,150,0],[48,3,48,154,0],[49,3,49,157,0],[50,3,50,156,0],[51,3,51,149,0],[52,3,52,153,0],[53,3,53,157,0],[54,3,54,155,0],[55,3,55,148,0],[56,3,56,158,0],[57,3,57,153,0],[58,3,58,152,0],[59,3,59,153,0],[61,3,61,165,0],[62,2,62,3,0],[71,3,71,4,0],[72,4,72,39,0],[73,3,73,4,0],[75,3,75,34,0],[77,3,77,4,0],[78,4,78,54,0],[78,55,78,56,0],[80,5,80,70,0],[80,71,80,72,0],[81,6,81,75,0],[82,5,82,6,0],[83,5,83,81,0],[84,5,84,59,0],[85,5,85,103,0],[86,5,86,24,0],[87,4,87,5,0],[89,4,89,48,0],[90,3,90,4,0]]);
    </script>
  </body>
</html>